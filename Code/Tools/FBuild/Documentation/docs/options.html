<!DOCTYPE html>
<link href="style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="common.js"></script>

<html>
<head>
<link rel="shortcut icon" href="../favicon.ico">
<title>FASTBuild - Command Line Options Reference</title>
</head>
<body>
  <script>generateHeader()</script>


<h1>Command Line Options</h1>

<h2>FBuild.exe</h2>

    <div class='newsitembody'>

<table width=700>
  <tr>
    <th width=150 align=left>Option</th>
    <th align=left>Summary</th>
  </tr>
  <tr>
    <td><a href="#cache">-cache[read|write]</a></td>
    <td>Use the build cache.</td>
  </tr>
  <tr>
    <td><a href="#cacheinfo">-cacheinfo</a></td>
    <td>Emit summary of objects in the cache.</td>
  </tr>
  <tr>
    <td><a href="#cachetrim">-cachetrim [sizeMiB]</a></td>
    <td>Reduce the size of the cache.</td>
  </tr>  
  <tr>
    <td><a href="#cacheverbose">-cacheverbose</a></td>
    <td>Provide additional information about cache interactions.</td>
  </tr>
  <tr>
    <td><a href="#clean">-clean</a></td>
    <td>Force a clean build.</td>
  </tr>
  <tr>
    <td><a href="#config">-config [path]</a></td>
    <td>Explicity specify the config file to use.</td>
  </tr>
  <tr>
    <td><a href="#dist">-dist</a></td>
    <td>Enable distributed compilation.</td>
  </tr>
  <tr>
    <td><a href="#distverbose">-distverbose</a></td>
    <td>Enable detailed logging for distributed compilation.</td>
  </tr>
  <tr>
    <td><a href="#fastcancel">-fastcancel</a></td>
    <td>[Experimental] Active fast cancellation on build failure.</td>
  </tr>
  <tr>
    <td><a href="#fixuperrorpaths">-fixuperrorpaths</a></td>
    <td>Reformat GCC/SNC/Clang error messages in Visual Studio format.</td>
  </tr>
  <tr>
    <td><a href="#forceremote">-forceremote</a></td>
    <td>Force distributable jobs to only be built remotely.</td>
  </tr>
  <tr>
    <td><a href="#help">-help</a></td>
    <td>Show usage help.</td>
  </tr>
  <tr>
    <td><a href="#ide">-ide</a></td>
    <td>Enable multiple options for IDE integration.</td>
  </tr>
  <tr>
    <td><a href="#jx">-j[x]</a></td>
    <td>Explicitly set local worker thread count.</td>
  </tr>
  <tr>
    <td><a href="#noprogress">-noprogress</a></td>
    <td>Don't show the progress bar while building.</td>
  </tr>
  <tr>
    <td><a href="#nostoponerror">-nostoponerror</a></td>
    <td>Don't stop building on first error.</td>
  </tr>
  <tr>
    <td><a href="#nosummaryonerror">-nosummaryonerror</a></td>
    <td>Don't print the -summary output if there is an error.</td>
  </tr>
  <tr>
    <td><a href="#nounity">-nounity</a></td>
    <td>[Experimental] Individually build all files normally built in Unity.</td>
  </tr>
  <tr>
    <td><a href="#quiet">-quiet</a></td>
    <td>Don't show build output.</td>
  </tr>
  <tr>
    <td><a href="#report">-report</a></td>
    <td>Output a report at build termination.</td>
  </tr>
  <tr>
    <td><a href="#showcmds">-showcmds</a></td>
    <td>Show command lines used to launch external processes.</td>
  </tr>
  <tr>
    <td><a href="#showdeps">-showdeps</a></td>
    <td>Show known dependency tree for specified targets.</td>
  </tr>
  <tr>
    <td><a href="#showtargets">-showtargets</a></td>
    <td>Show primary targets defined in build configuration.</td>
  </tr>
  <tr>
    <td><a href="#summary">-summary</a></td>
    <td>Show a summary at the end of the build.</td>
  </tr>
  <tr>
    <td><a href="#verbose">-verbose</a></td>
    <td>Show detailed diagnostic information for debugging.</td>
  </tr>
  <tr>
    <td><a href="#version">-version</a></td>
    <td>Print version and exit.</td>
  </tr>
  <tr>
    <td><a href="#version">-vs</a></td>
    <td>[Deprecated] Same as -ide.</td>
  </tr>
  <tr>
    <td><a href="#wait">-wait</a></td>
    <td>Wait for a previous build to complete before starting.</td>
  </tr>  
  <tr>
    <td><a href="#wrapper">-wrapper</a></td>
    <td>Wrapper mode for Visual Studio. (Windows only)</td>
  </tr>
</table>
</div>

<h2>FBuildWorker.exe</h2>

    <div class='newsitembody'>

<table width=700>
  <tr>
    <th width=250 align=left>Option</th>
    <th align=left>Summary</th>
  </tr>
  <tr>
    <td><a href="#console">-console</a></td>
    <td>Disable UI. (Windows Only)</td>
  </tr>
  <tr>
    <td><a href="#cpus">-cpus=[n|-n|n%]</a></td>
    <td>Control worker CPUs allocation.</td>
  </tr>
  <tr>
    <td><a href="#mode">-mode=[disabled|idle|dedicated]</a></td>
    <td>Control worker availability.</td>
  </tr>
  <tr>
    <td><a href="#nosubprocess">-nosubprocess</a></td>
    <td>Don't spawn as a sub-process.</td>
  </tr>
</table>
</div>

<h2>FBuild.exe Detailed</h2>

    <div class='newsitemheader' id="cache">-cache[read|write]</div>
    <div class='newsitembody'>
<p>Enable usage of the build cache.  The cache options need to be configured in the build configuration file.</p>
<p>The cache can be enabled as read only or write only with '-cacheread' or '-cachewrite'.  This can be useful for automated build systems, where you might like one machine to populate the cache for read-only use by other users.</p>
<p>Use of '-cache' is equivalent to '-cachread' and '-cachewrite' together.</p>
</div>

    <div class='newsitemheader' id="cacheinfo">-cacheinfo</div>
    <div class='newsitembody'>
<p>Emit summary of objects in the cache. This can be used to understand the total size
of the cache and how quickly it is growing. (See the related <a href='#cachetrim'>-cachetrim</a>)</p>
</div>

    <div class='newsitemheader' id="cachetrim">-cachetrim [sizeMiB]</div>
    <div class='newsitembody'>
<p>Reduce the size of the cache to the specified size in MiB. This will delete items in the cache (oldest first)
until under the requested size. (See the related <a href='#cacheinfo'>-cacheinfo</a>)</p>
</div>

    <div class='newsitemheader' id="cacheverbose">-cacheverbose</div>
    <div class='newsitembody'>
<p>Provide additional information about cache interactions, including cache keys, explicit hit/miss/store
information and performance metrics. This can be used to assist troubleshooting.</p>
</div>

    <div class='newsitemheader' id="clean">-clean</div>
    <div class='newsitembody'>
<p>Force a clean build.  The build configuration file is re-parsed and all exsiting dependency information is discarded.  A build is performed as if building for the first time with no built files present.</p>
</div>

    <div class='newsitemheader' id="config">-config [path]</div>
    <div class='newsitembody'>
<p>Explicity specify the config file to use.  By default, FASTBuild looks for "fbuild.bff" in the current directory.  This options allows a file to be explicitly
specified instead.</p>
</div>

    <div class='newsitemheader' id="dist">-dist</div>
    <div class='newsitembody'>
<p>Enable distributed compilation. Requires some build configuration.</p>
</div>

    <div class='newsitemheader' id="distverbose">-distverbose</div>
    <div class='newsitembody'>
<p>Print detailed information about distributed compilation. This can help when investigating connectivity issues. Activates -dist if not already specified.</p>
</div>

    <div class='newsitemheader' id="fastcancel">-fastcancel</div>
    <div class='newsitembody'>
<p><b>[Experimental]</b> Activate fast cancellation on build failure.</p>
<p>Normally, when a build fails, FASTBuild will stop spawning new tasks, but will allow any other concurrently running processes to complete. In some cases, these tasks can
take a long time to complete. When activated, the -fastcancel option will allow FASTBuild to instead terminate those concurrent jobs.</p>
</div>

    <div class='newsitemheader' id="fixuperrorpaths">-fixuperrorpaths</div>
    <div class='newsitembody'>
<p>Enables re-formatting of warnings, errors and notes for GCC/SNC & Clang to Visual Studio format. Additionally, relative paths are expanded to full paths. This allows these errors to be double-clickable inside Visual Studio.</p>
<p>Enabled automatically when '-vs' is used.</p>
</div>

    <div class='newsitemheader' id="forceremote">-forceremote</div>
    <div class='newsitembody'>
<p>Prevents all local compilation of distributable jobs.</p>
<p>FASTBuild will normally utilize local CPU resources to compile distributable jobs in several
situations, in order to improve performance:</p>
<ul>
    <li>When there are no remote workers available (otherwise build would not complete)</li>
    <li>When all remote workers are busy and local CPUs would be idle</li>
    <li>When blocked on remote work</li>
</ul>
<p>This option prevents local consumption of distributable jobs in all these cases. This will generally
result in slower builds and may even prevent the build completing entirely. As such, this options should
generally only be used for troubleshooting.</p>
<p>Additionally, this option disabled use of the cache.</p>
<p><b>NOTE:</b> This option can prevent builds from completing (if no workers are available for example).</p>
<p><b>NOTE:</b> This option will generally degrade build performance.</p>
</div>

    <div class='newsitemheader' id="help">-help</div>
    <div class='newsitembody'>
<p>Prints command line usage information, as per the summary at the top of this page.</p>
</div>

    <div class='newsitemheader' id="ide">-ide</div>
    <div class='newsitembody'>
<p>IDE integration mode.  Enables several options that are commonly desired when running from within an IDE such as VisualStudio, XCode or kDevelop.
The following options are enabled:
<ul>
<li><a href="#noprogress">-noprogress</a></li>
<li><a href="#fixuperrorpaths">-fixuperrorpaths</a> (Windows only)</li>
<li><a href="#wrapper">-wrapper</a> (Windows only)</li>
</ul>
</div>


    <div class='newsitemheader' id="jx">-j[x]</div>
    <div class='newsitembody'>
<p><b>Generally, the default behaviour will give best performance, and this option should
only be used in very specific situations.</b></p>
<p>The -j[x] option allows you to artificially control local parallelism by modifying the local thread pool size.</p>
<p>FASTBuild will normally determine the optimal number of local threads to use by detecting the number of hardware
cores present on the host. The -j option allows you to override this.</p>
<p>Positive values for x can be used to set the number of tasks which can be performed locally in parallel. This can be used
to limit CPU usage on a machine that needs to perform other work while compilation is in progress.  Values greater than the 
number of physical processors are also accepted, but will almost always result in degraded performance.</p>
<p>A value of 0 for x indicates that no additional threads should be spawned, and build graph processing and compilation 
should occur on the same thread.  This can be useful for build process debugging, especially when combined with the 
'-verbose' option.</p>
<p>This option has no direct bearing on distributed compilation, but modifying local parallelism will reduce the ability
of FASTBuild to distribute work efficiently.</p>
</div>

    <div class='newsitemheader' id="noprogress">-noprogress</div>
    <div class='newsitembody'>
<p>Suppresses the progress bar that is normally shown while compiling.</p>
<p>This should be used when targetting compilation from within Visual Studio or another IDE. (or use -vs)</p>
</div>

    <div class='newsitemheader' id="nostoponerror">-nostoponerror</div>
    <div class='newsitembody'>
<p>When encountering build errors, FASTBuild will normally stop as quickly as possible.</p>
<p>-nostoponerror instructs FASTBuild to instead build as much as possible before stopping when failures occur. This is
useful if you want to see as many errors as possible in your compilation output.</p>
<p>NOTE: When specifying multiple targets to compile on the command line, -nostoponerror is implied.</p>
</div>

    <div class='newsitemheader' id="nosummaryonerror">-nosummaryonerror</div>
    <div class='newsitembody'>
<p>The -nosummaryonerror option instructs FASTBuild to only print the -summary overview if the build completes successfully.</p>
<p>NOTE: When specifying -nosummaryonerror, -summary is implied if not already specified.</p>
</div>

    <div class='newsitemheader' id="nounity">-nounity</div>
    <div class='newsitembody'>
<p><b>[Experimental]</b> Individually build all files normally in Unity.</p>
<p>NOTE: When alternating between specifying -nounity and not, libraries may not relink when they should. The resulting
executables are valid, but may contain the previous unity objects instead of the loose objects</p>
</div>

    <div class='newsitemheader' id="quiet">-quiet</div>
    <div class='newsitembody'>
<p>Don't show build output. Information about which items are being built and the overall state of the build will be
suppressed.</p>
</div>

    <div class='newsitemheader' id="report">-report</div>
    <div class='newsitembody'>
<p>Ouput a detailed report at the end of the build.  The report is written to report.html in the current directory.</p>
<p>The build report contains details of:
<ul>
  <li>The build environment (version, cmd line used etc.)</li>
  <li>All items built.</li>
  <li>Cache utilization.</li>
  <li>Include file usage.</li>
</ul>
</p>
<p>NOTE: This option will lengthen the total build time, depending on the complexity of the build.</p>
</div>

    <div class='newsitemheader' id="showcmds">-showcmds</div>
    <div class='newsitembody'>
<p>Displays the full command lines passed to external tools as they are invoked.</p>
<p>This option is useful for debugging build configurations, where the -verbose mode is too spammy.</p>
<p>NOTE: This option may have an impact on build performance.</p>
<p></p>
</div>

    <div class='newsitemheader' id="showdeps">-showdeps</div>
    <div class='newsitembody'>
<p>Displays the hierearchy of dependencies for the specified target(s). This can be useful for debugging build configurations.</p>
<p>Example:</p>
<div class='code'>fbuild.exe -showdeps Game-x86-Debug</div>
<p>If no target is specified, "all" is used.</p>
<p><b>NOTE:</b> The dependencies  shown will refelect the state as of the last completed build.
i.e. dependencies that would be discovered during the next build will not be shown.</p>
<p></p>
</div>

    <div class='newsitemheader' id="showtargets">-showtargets</div>
    <div class='newsitembody'>
<p>Displays the list of targets defined in the bff configuration file.</p>
<p></p>
</div>


    <div class='newsitemheader' id="summary">-summary</div>
    <div class='newsitembody'>
<p>Displays a summary upon build completion.</p>
<p></p>
</div>

    <div class='newsitemheader' id="verbose">-verbose</div>
    <div class='newsitembody'>
<p>Show detailed diagnostic information for debugging.</p>
<p>This can be used to provide more information when debugging a build configuration problem. It will display detailed information as the build configuration is parsed, as well as detailed information during the build, including full command line arguments passed to external executables.</p>
<p>It is usually useful to combine this flag with <a href="#jx">-j0</a> to serialize the build process and output (avoiding the output of different threads being mixed together).</p>
</div>

    <div class='newsitemheader' id="version">-version</div>
    <div class='newsitembody'>
<p>Prints executable version information and exits.  No configuration parsing or building is performed.</p>
</div>

    <div class='newsitemheader' id="vs">-vs</div>
    <div class='newsitembody'>
<p>[Deprecated] VisualStudio mode - same is <a href="#ide">-ide</a>. Use <a href="#ide">-ide</a> instead.</p>
</div>

    <div class='newsitemheader' id="wait">-wait</div>
    <div class='newsitembody'>
<p>Queue build after an already running build completes.</p>
<p>Only one instance of FASTBuild can run at a time within the same root working directory. If you launch another FASTBuild while
one is already running, the error "Another FASTBuild is already running." will be emitted.</p>
<p>If you wish to build multiple targets, you should specify them together on the command line.  
This allows for paralellization across both targets.</p>
<p>Alternatively, the -wait command line arg allows you to queue the second build, so instead of failing, it will start 
after the first build completes.  This will be slower than if both targets were invoked together 
on the original command line.</p>
</div>


    <div class='newsitemheader' id="wrapper">-wrapper (Windows Only)</div>
    <div class='newsitembody'>
<p>Spawns FASTBuild via an intermediate sub-process to be able to cleanly terminate a build from Visual Studio.</p>
<p>When cancelling a build in Visual Studio, the FASTBuild process will be killed, with no opportunity to save the build database, resulting in lost compilation work. Specifying this option spawns an orpaphaned child process to do the actual work. When the parent process is terminated by Visual Studio, the child process detects this and cleanly shuts down.</p>
<p>If a subsequent "wrapper mode" build is initiated before the first terminates, FASTBuild will wait for this first process to complete.</p>
</div>

<h2>FBuildWorker.exe Detailed</h2>

    <div class='newsitemheader' id="console">-console</div>
    <div class='newsitembody'>
<p>Disable worker UI.</p>
<p>The FBuildWorker can run in a UI-less mode on Windows. (On OSX and Linux, the worker currently always
runs in UI-less mode)</p>
</div>


    <div class='newsitemheader' id="cpus">-cpus=[n|-n|n%]</div>
    <div class='newsitembody'>
<p>Control worker CPUs allocation.</p>
<p>The number of workers available is normally controlled through the UI of the FBuildWorker.exe. The "-cpus" command line option will override this as follows:
<table>
  <tr><th width=150>Syntax</th><th>Description</th></tr>
  <tr><td>-cpus=n</td><td>Value n will be used.</td></tr>
  <tr><td>-cpus=-n</td><td>Value of NUMBER_OF_PROCESSORS-n will be used.</td>
  <tr><td>-cpus=n%</td><td>Specify number of CPUs as a percentage of NUMBER_OF_PROCESSORS.</td></tr>
</table>
</p>
<p>In all cases, the number used will be clamped between 1 and the NUMBER_OF_PROCESSORS environment variable.</p>
<p>NOTE: The newly overridden options will be saved and used on subsequent restarts of the worker.</p>
</div>


    <div class='newsitemheader' id="mode">-mode=[disabled|idle|dedicated]</div>
    <div class='newsitembody'>
<p>Control worker availability.</p>
<p>The FBuildWorker.exe mode is normally controlled through the UI. The "-mode" command line option will override this as follows:
<table>
  <tr><th width=150>Syntax</th><th>Description</th></tr>
  <tr><td>-mode=disabled</td><td>Worker will accept no tasks.</td></tr>
  <tr><td>-mode=idle</td><td>Worker will accept tasks when PC is considerd idle.</td>
  <tr><td>-mode=dedicated</td><td>Worker will accept tasks regardless of PC state.</td></tr>
</table>
</p>
<p>NOTE: The newly overridden options will be saved and used on subsequent restarts of the worker.</p>
</div>

    <div class='newsitemheader' id="nosubprocess">-nosubprocess</div>
    <div class='newsitembody'>
<p>Don't spawn a sub-process copy of the worker.</p>
<p>By default, when the FBuildWorker is launched, it makes a copy of itself (FBuildWorker.exe.copy), launches the copy and terminates.  The duplicate process monitors the original executable file for changes, and re-launches itself if the file is updated. In this way, the FBuildWorker.exe can be kept under revision control, and when synchronized to a new version, will automatically re-start.</p>
<p>The "-nosubprocess" option supresses this behaviour.</p>
</div>


  <script>generateFooter()</script>
</body>
</html>